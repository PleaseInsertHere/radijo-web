<!DOCTYPE html>
<html>
<header>
    <meta charset="UTF-8">
</header>

<head>
    <ul>
        <li><a href="main.html">Prad≈æia</a></li>
        <li><a href="tinklalaides.html">Tinklalaides</a></li>
    </ul>

</head>

<body>

    <h1>Naujienos:</h1> 

    <!--Naudojamas Youtube Data API v3
    https://console.cloud.google.com/marketplace/product/google/youtube.googleapis.com?q=search&referrer=search&inv=1&invt=AbmC-w&project=river-key-407312-->
    
    <div id="video-container"></div>

  <script>
    
    const API_KEY = 'AIzaSyBVuDvxuFype98gDezjITlhhkcymPAwuxg'; // mano yt api kodukas
    const CHANNEL_ID = 'UCAVfAs9ro7R7Vu4-yOxUznA'; // radijo kanalo ID
    const MAX_RESULTS = 5; // kiek naujausiu video rodys

    async function fetchLatestVideos() {
      const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=${MAX_RESULTS}`;
      const response = await fetch(url);
      const data = await response.json();

      const videoContainer = document.getElementById('video-container');
      data.items.forEach(item => {
        if (item.id.kind === "youtube#video") {
          const videoId = item.id.videoId;
          const videoTitle = item.snippet.title;

          const videoElement = document.createElement('div');
          videoElement.className = 'video';
          videoElement.innerHTML = `
            <iframe src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe>
            <p>${videoTitle}</p>
          `;
          videoContainer.appendChild(videoElement);
        }
      });
    }

    fetchLatestVideos();

  </script>
  
</body>

</html>