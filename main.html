<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ąžuolyno Radijas</title>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>

<header>
    <h1>Ąžuolyno Radijas</h1>
</header>

<nav>
    <ul>
        <li><a class="meniu" href="main.html">Pradžia</a></li>
        <li><a class="meniu" href="tinklalaides.html">Tinklalaidės</a></li>
    </ul>
</nav>

<!-- Flexbox container for main content and sidebar -->
<div class="container">
    <main>
        <h3>"Ąžuolyno radijas" - tai internetinis radijas su laidomis, interviu, muzika ir tinklalaidėmis.</h3>

        <div class="paveikslelis">
            <img src="radijas_logo.jpg" width="600" height="600" alt="Radijas logo">
            <iframe src="https://www.google.com/maps/embed?..." width="600" height="450" style="border:0;" allowfullscreen></iframe>
        </div>
    </main>

    <aside>
        <h1>Naujausios tinklalaidės:</h1>
        <div id="video-container"></div>
    </aside>
</div>

<footer>
    <h2>Socialinės medijos</h2>
    <div class="row">
        <div class="column"><a href="https://www.instagram.com/azuolyno_radijas/"><img src="instagram.png"></a></div>
        <div class="column"><a href="https://www.facebook.com/profile.php?id=100076319555972"><img src="facebook.png"></a></div>
        <div class="column"><a href="https://www.youtube.com/@azuolynoradijas"><img src="youtube.png"></a></div>
        <div class="column"><a href="https://open.spotify.com/show/42ROD5Z8nIjW1Mw5UpSYRy?"><img src="spotify.png"></a></div>
    </div>
</footer>

<script>
    const API_KEY = 'AIzaSyBVuDvxuFype98gDezjITlhhkcymPAwuxg';
    const CHANNEL_ID = 'UCAVfAs9ro7R7Vu4-yOxUznA';
    const MAX_RESULTS = 5;

    async function fetchLatestVideos() {
        const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=${MAX_RESULTS}`;
        const response = await fetch(url);
        const data = await response.json();

        const videoContainer = document.getElementById('video-container');
        data.items.forEach(item => {
            if (item.id.kind === "youtube#video") {
                const videoId = item.id.videoId;
                const videoTitle = item.snippet.title;

                const videoElement = document.createElement('div');
                videoElement.className = 'video';
                videoElement.innerHTML = `
                    <iframe src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe>
                    <p>${videoTitle}</p>
                `;
                videoContainer.appendChild(videoElement);
            }
        });
    }

    fetchLatestVideos();
</script>

</body>
</html>
